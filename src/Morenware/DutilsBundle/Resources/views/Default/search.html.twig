{% extends 'MorenwareDutilsBundle::base.html.twig' %}

{% block body %}


<div class="searchTorrentsPage" ng-controller="searchController" ng-init="initTorrents({{ torrentsInfo }})">
   <div class="row">
	    <div class="col-lg-12">
	     <h1 class="page-header">Buscar torrents</h1>
	    </div>
	</div>

    <form>
    	<div class="row search-form">
    		 <div class="input-group custom-search-form col-lg-12">
             	<input type="text" class="form-control" ng-model="query" placeholder="Buscar...">
                <span class="input-group-btn">
                  <button class="btn btn-default" type="submit" ng-click="search()">
                    <i class="fa fa-search"></i>
                  </button>

    {#               <a class="btn btn-default" href="search?searchQuery=castle">#}
    {#               	 <i class="fa fa-search"></i>#}
    {#               </a>#}

                </span>
             </div>
    	</div>
    </form>

    <div class="row">
        <div class="col-lg-12">
            <div class="checkbox">
                <label ng-repeat="site in searchSites">
                    <input type="checkbox" ng-model="site.selected" id="searchSite1" /> [[site.name]] &nbsp;
                </label>
            </div>
        </div>
    </div>

	<div class="row search-results" ng-show="searchFinished">
	    <div class="col-lg-12">
	                <h4>Resultados para: '[[query]]'</h4>
	                <h5>[[offset+1]]-[[currentOffset]] de [[total]]</h5>
                     <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Title</th>
                                    <th>Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="torrent in torrents">
                                    <td ng-bind="offset+$index+1"></td>
                                    <td ng-bind="torrent.torrentName"></td>
                                    <td ng-bind="torrent.date"></td>
                                    <td class="col-lg-6">
                                        <button ng-click="startDownload(torrent)" target="_blank" class="col-lg-3">Start download</button>
                                        <a href="[[torrent.torrentFileLink]]" target="_blank" class="col-lg-3">Torrent file</a>
                                    </td>
                                    <td> <span>[[torrent.state]]</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

		</div>

	</div>

{% endblock %}